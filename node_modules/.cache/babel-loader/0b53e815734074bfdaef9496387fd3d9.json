{"ast":null,"code":"import { uuid, toArray } from './util';\nfunction formatCSSText(style) {\n  var content = style.getPropertyValue('content');\n  return \"\".concat(style.cssText, \" content: '\").concat(content.replace(/'|\"/g, ''), \"';\");\n}\nfunction formatCSSProperties(style) {\n  return toArray(style).map(function (name) {\n    var value = style.getPropertyValue(name);\n    var priority = style.getPropertyPriority(name);\n    return \"\".concat(name, \": \").concat(value).concat(priority ? ' !important' : '', \";\");\n  }).join(' ');\n}\nfunction getPseudoElementStyle(className, pseudo, style) {\n  var selector = \".\".concat(className, \":\").concat(pseudo);\n  var cssText = style.cssText ? formatCSSText(style) : formatCSSProperties(style);\n  return document.createTextNode(\"\".concat(selector, \"{\").concat(cssText, \"}\"));\n}\nfunction clonePseudoElement(nativeNode, clonedNode, pseudo) {\n  var style = window.getComputedStyle(nativeNode, pseudo);\n  var content = style.getPropertyValue('content');\n  if (content === '' || content === 'none') {\n    return;\n  }\n  var className = uuid();\n  try {\n    clonedNode.className = \"\".concat(clonedNode.className, \" \").concat(className);\n  } catch (err) {\n    return;\n  }\n  var styleElement = document.createElement('style');\n  styleElement.appendChild(getPseudoElementStyle(className, pseudo, style));\n  clonedNode.appendChild(styleElement);\n}\nexport function clonePseudoElements(nativeNode, clonedNode) {\n  clonePseudoElement(nativeNode, clonedNode, ':before');\n  clonePseudoElement(nativeNode, clonedNode, ':after');\n}","map":{"version":3,"mappings":"AAAA,SAASA,IAAI,EAAEC,OAAO,QAAQ,QAAQ;AAItC,SAASC,aAAaA,CAACC,KAA0B;EAC/C,IAAMC,OAAO,GAAGD,KAAK,CAACE,gBAAgB,CAAC,SAAS,CAAC;EACjD,iBAAUF,KAAK,CAACG,OAAO,wBAAcF,OAAO,CAACG,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;AAClE;AAEA,SAASC,mBAAmBA,CAACL,KAA0B;EACrD,OAAOF,OAAO,CAASE,KAAK,CAAC,CAC1BM,GAAG,CAAC,UAACC,IAAI,EAAI;IACZ,IAAMC,KAAK,GAAGR,KAAK,CAACE,gBAAgB,CAACK,IAAI,CAAC;IAC1C,IAAME,QAAQ,GAAGT,KAAK,CAACU,mBAAmB,CAACH,IAAI,CAAC;IAEhD,iBAAUA,IAAI,eAAKC,KAAK,SAAGC,QAAQ,GAAG,aAAa,GAAG,EAAE;EAC1D,CAAC,CAAC,CACDE,IAAI,CAAC,GAAG,CAAC;AACd;AAEA,SAASC,qBAAqBA,CAC5BC,SAAiB,EACjBC,MAAc,EACdd,KAA0B;EAE1B,IAAMe,QAAQ,cAAOF,SAAS,cAAIC,MAAM,CAAE;EAC1C,IAAMX,OAAO,GAAGH,KAAK,CAACG,OAAO,GACzBJ,aAAa,CAACC,KAAK,CAAC,GACpBK,mBAAmB,CAACL,KAAK,CAAC;EAE9B,OAAOgB,QAAQ,CAACC,cAAc,WAAIF,QAAQ,cAAIZ,OAAO,OAAI;AAC3D;AAEA,SAASe,kBAAkBA,CACzBC,UAAa,EACbC,UAAa,EACbN,MAAc;EAEd,IAAMd,KAAK,GAAGqB,MAAM,CAACC,gBAAgB,CAACH,UAAU,EAAEL,MAAM,CAAC;EACzD,IAAMb,OAAO,GAAGD,KAAK,CAACE,gBAAgB,CAAC,SAAS,CAAC;EACjD,IAAID,OAAO,KAAK,EAAE,IAAIA,OAAO,KAAK,MAAM,EAAE;IACxC;;EAGF,IAAMY,SAAS,GAAGhB,IAAI,EAAE;EAExB,IAAI;IACFuB,UAAU,CAACP,SAAS,aAAMO,UAAU,CAACP,SAAS,cAAIA,SAAS,CAAE;GAC9D,CAAC,OAAOU,GAAG,EAAE;IACZ;;EAGF,IAAMC,YAAY,GAAGR,QAAQ,CAACS,aAAa,CAAC,OAAO,CAAC;EACpDD,YAAY,CAACE,WAAW,CAACd,qBAAqB,CAACC,SAAS,EAAEC,MAAM,EAAEd,KAAK,CAAC,CAAC;EACzEoB,UAAU,CAACM,WAAW,CAACF,YAAY,CAAC;AACtC;AAEA,OAAM,SAAUG,mBAAmBA,CACjCR,UAAa,EACbC,UAAa;EAEbF,kBAAkB,CAACC,UAAU,EAAEC,UAAU,EAAE,SAAS,CAAC;EACrDF,kBAAkB,CAACC,UAAU,EAAEC,UAAU,EAAE,QAAQ,CAAC;AACtD","names":["uuid","toArray","formatCSSText","style","content","getPropertyValue","cssText","replace","formatCSSProperties","map","name","value","priority","getPropertyPriority","join","getPseudoElementStyle","className","pseudo","selector","document","createTextNode","clonePseudoElement","nativeNode","clonedNode","window","getComputedStyle","err","styleElement","createElement","appendChild","clonePseudoElements"],"sources":["../src/clonePseudoElements.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}